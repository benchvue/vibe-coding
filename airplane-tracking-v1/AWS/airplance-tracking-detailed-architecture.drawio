<mxfile host="app.diagrams.net" modified="2026-02-16T00:00:00.000Z" agent="Claude" etag="skytracker-v1" version="24.0.0" type="device">
  <diagram id="skytracker-vpc-arch" name="SkyTracker VPC Architecture">
    <mxGraphModel dx="1422" dy="762" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1169" pageHeight="827" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />

        <!-- ═══════════════ TITLE ═══════════════ -->
        <mxCell id="title" value="&lt;b&gt;SkyTracker — Live Flight Tracker&lt;/b&gt;&lt;br&gt;AWS VPC Architecture" style="text;html=1;fontSize=18;fontColor=#FFD000;align=center;verticalAlign=middle;whiteSpace=wrap;" vertex="1" parent="1">
          <mxGeometry x="370" y="10" width="430" height="50" as="geometry" />
        </mxCell>

        <!-- ═══════════════ USER / BROWSER ═══════════════ -->
        <mxCell id="user" value="&lt;b&gt;User&lt;/b&gt;&lt;br&gt;(Browser)" style="shape=mxgraph.aws4.users;outlineConnect=0;fontColor=#232F3E;gradientColor=none;fillColor=#232F3E;strokeColor=none;dashed=0;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;fontStyle=0;aspect=fixed;" vertex="1" parent="1">
          <mxGeometry x="555" y="80" width="60" height="60" as="geometry" />
        </mxCell>

        <!-- ═══════════════ INTERNET ═══════════════ -->
        <mxCell id="internet" value="&lt;b&gt;Internet&lt;/b&gt;" style="shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.internet_alt2;labelBackgroundColor=none;sketch=0;fontColor=#232F3E;fillColor=#8C4FFF;strokeColor=none;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;aspect=fixed;" vertex="1" parent="1">
          <mxGeometry x="555" y="180" width="60" height="60" as="geometry" />
        </mxCell>

        <!-- User → Internet -->
        <mxCell id="edge-user-internet" style="edgeStyle=orthogonalEdgeStyle;rounded=1;strokeColor=#666666;strokeWidth=2;" edge="1" source="user" target="internet" parent="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- ═══════════════ AWS CLOUD BOUNDARY ═══════════════ -->
        <mxCell id="aws-cloud" value="&lt;b&gt;AWS Cloud&lt;/b&gt;" style="points=[[0,0],[0.25,0],[0.5,0],[0.75,0],[1,0],[1,0.25],[1,0.5],[1,0.75],[1,1],[0.75,1],[0.5,1],[0.25,1],[0,1],[0,0.75],[0,0.5],[0,0.25]];outlineConnect=0;gradientColor=none;html=1;whiteSpace=wrap;fontSize=14;fontStyle=1;fontColor=#FF8000;shape=mxgraph.aws4.group;grIcon=mxgraph.aws4.group_aws_cloud_alt;stroke=1;fillColor=none;verticalAlign=top;align=left;spacingLeft=30;spacingTop=5;dashed=0;container=1;pointerEvents=0;collapsible=0;recursiveResize=0;strokeColor=#FF8000;" vertex="1" parent="1">
          <mxGeometry x="180" y="270" width="810" height="520" as="geometry" />
        </mxCell>

        <!-- ═══════════════ INTERNET GATEWAY ═══════════════ -->
        <mxCell id="igw" value="&lt;b&gt;Airplan-IGW&lt;/b&gt;&lt;br&gt;Internet Gateway" style="shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.internet_gateway;labelBackgroundColor=none;sketch=0;fontColor=#232F3E;fillColor=#8C4FFF;strokeColor=none;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=11;aspect=fixed;" vertex="1" parent="aws-cloud">
          <mxGeometry x="375" y="20" width="60" height="60" as="geometry" />
        </mxCell>

        <!-- Internet → IGW -->
        <mxCell id="edge-internet-igw" style="edgeStyle=orthogonalEdgeStyle;rounded=1;strokeColor=#8C4FFF;strokeWidth=2;" edge="1" source="internet" target="igw" parent="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- ═══════════════ VPC ═══════════════ -->
        <mxCell id="vpc" value="&lt;b&gt;Airplan-VPC&lt;/b&gt;&lt;br&gt;10.0.0.0/16" style="points=[[0,0],[0.25,0],[0.5,0],[0.75,0],[1,0],[1,0.25],[1,0.5],[1,0.75],[1,1],[0.75,1],[0.5,1],[0.25,1],[0,1],[0,0.75],[0,0.5],[0,0.25]];outlineConnect=0;gradientColor=none;html=1;whiteSpace=wrap;fontSize=13;fontStyle=1;fontColor=#147EBA;shape=mxgraph.aws4.group;grIcon=mxgraph.aws4.group_vpc2;stroke=1;fillColor=none;verticalAlign=top;align=left;spacingLeft=30;spacingTop=5;dashed=0;container=1;pointerEvents=0;collapsible=0;recursiveResize=0;strokeColor=#147EBA;" vertex="1" parent="aws-cloud">
          <mxGeometry x="60" y="100" width="690" height="400" as="geometry" />
        </mxCell>

        <!-- ═══════════════ ROUTE TABLE ═══════════════ -->
        <mxCell id="rt" value="&lt;b&gt;Airplan-Public-RT&lt;/b&gt;&lt;br&gt;&lt;font style=&quot;font-size:10px&quot;&gt;0.0.0.0/0 → IGW&lt;br&gt;10.0.0.0/16 → local&lt;/font&gt;" style="shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.route_table;labelBackgroundColor=none;sketch=0;fontColor=#232F3E;fillColor=#8C4FFF;strokeColor=none;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=11;aspect=fixed;" vertex="1" parent="vpc">
          <mxGeometry x="20" y="20" width="50" height="50" as="geometry" />
        </mxCell>

        <!-- ═══════════════ PUBLIC SUBNET ═══════════════ -->
        <mxCell id="public-subnet" value="&lt;b&gt;Airplan-Public-Subnet&lt;/b&gt;&lt;br&gt;10.0.1.0/24 | AZ-a" style="points=[[0,0],[0.25,0],[0.5,0],[0.75,0],[1,0],[1,0.25],[1,0.5],[1,0.75],[1,1],[0.75,1],[0.5,1],[0.25,1],[0,1],[0,0.75],[0,0.5],[0,0.25]];outlineConnect=0;gradientColor=none;html=1;whiteSpace=wrap;fontSize=12;fontStyle=1;fontColor=#248814;shape=mxgraph.aws4.group;grIcon=mxgraph.aws4.group_subnet;stroke=1;fillColor=#E9F7EF;verticalAlign=top;align=left;spacingLeft=30;spacingTop=5;dashed=0;container=1;pointerEvents=0;collapsible=0;recursiveResize=0;strokeColor=#248814;" vertex="1" parent="vpc">
          <mxGeometry x="100" y="50" width="530" height="320" as="geometry" />
        </mxCell>

        <!-- ═══════════════ SECURITY GROUP ═══════════════ -->
        <mxCell id="sg" value="&lt;b&gt;Airplan-Public-SG&lt;/b&gt;&lt;br&gt;&lt;font style=&quot;font-size:10px&quot;&gt;Inbound: TCP 22 (SSH), TCP 80 (HTTP)&lt;br&gt;Outbound: All traffic&lt;/font&gt;" style="points=[[0,0],[0.25,0],[0.5,0],[0.75,0],[1,0],[1,0.25],[1,0.5],[1,0.75],[1,1],[0.75,1],[0.5,1],[0.25,1],[0,1],[0,0.75],[0,0.5],[0,0.25]];outlineConnect=0;gradientColor=none;html=1;whiteSpace=wrap;fontSize=11;fontStyle=0;fontColor=#DD3522;shape=mxgraph.aws4.group;grIcon=mxgraph.aws4.group_security_group;stroke=1;fillColor=#FFF5F5;verticalAlign=top;align=left;spacingLeft=30;spacingTop=5;dashed=1;container=1;pointerEvents=0;collapsible=0;recursiveResize=0;strokeColor=#DD3522;" vertex="1" parent="public-subnet">
          <mxGeometry x="30" y="50" width="470" height="240" as="geometry" />
        </mxCell>

        <!-- ═══════════════ EC2 INSTANCE ═══════════════ -->
        <mxCell id="ec2" value="&lt;b&gt;Airplan-Public-EC2&lt;/b&gt;&lt;br&gt;&lt;font style=&quot;font-size:10px&quot;&gt;t2.micro | Amazon Linux 2023&lt;br&gt;Key: ch3-key&lt;br&gt;Apache httpd → index.html&lt;br&gt;&lt;b style=&quot;color:#FFD000&quot;&gt;SkyTracker Flight Tracker&lt;/b&gt;&lt;/font&gt;" style="shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.ec2;labelBackgroundColor=none;sketch=0;fontColor=#232F3E;fillColor=#ED7100;strokeColor=none;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=12;aspect=fixed;" vertex="1" parent="sg">
          <mxGeometry x="185" y="50" width="60" height="60" as="geometry" />
        </mxCell>

        <!-- ═══════════════ ELASTIC IP ═══════════════ -->
        <mxCell id="eip" value="&lt;b&gt;Airplan-EIP&lt;/b&gt;&lt;br&gt;Elastic IP (Static)" style="shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.elastic_ip_address;labelBackgroundColor=none;sketch=0;fontColor=#232F3E;fillColor=#8C4FFF;strokeColor=none;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=11;aspect=fixed;" vertex="1" parent="sg">
          <mxGeometry x="185" y="155" width="50" height="50" as="geometry" />
        </mxCell>

        <!-- EC2 → EIP -->
        <mxCell id="edge-ec2-eip" style="edgeStyle=orthogonalEdgeStyle;rounded=1;strokeColor=#8C4FFF;strokeWidth=1;dashed=1;" edge="1" source="ec2" target="eip" parent="sg">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- IGW → EC2 (through VPC) -->
        <mxCell id="edge-igw-ec2" style="edgeStyle=orthogonalEdgeStyle;rounded=1;strokeColor=#ED7100;strokeWidth=2;" edge="1" source="igw" target="ec2" parent="aws-cloud">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="405" y="95" />
              <mxPoint x="405" y="95" />
            </Array>
          </mxGeometry>
        </mxCell>

        <!-- ═══════════════ EXTERNAL APIs (Browser-side) ═══════════════ -->
        <mxCell id="external-box" value="&lt;b&gt;External APIs&lt;/b&gt;&lt;br&gt;&lt;font style=&quot;font-size:10px;color:#999&quot;&gt;(called by browser, NOT by EC2)&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fontSize=12;fontColor=#232F3E;fillColor=#F5F5F5;strokeColor=#CCCCCC;verticalAlign=top;align=center;spacingTop=5;container=1;collapsible=0;" vertex="1" parent="1">
          <mxGeometry x="20" y="100" width="200" height="230" as="geometry" />
        </mxCell>

        <mxCell id="cesium-api" value="&lt;b&gt;Cesium Ion&lt;/b&gt;&lt;br&gt;&lt;font style=&quot;font-size:10px&quot;&gt;3D Globe Tiles&lt;br&gt;ion.cesium.com&lt;/font&gt;" style="shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.global_accelerator;labelBackgroundColor=none;sketch=0;fontColor=#232F3E;fillColor=#4285F4;strokeColor=none;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=11;aspect=fixed;" vertex="1" parent="external-box">
          <mxGeometry x="20" y="50" width="48" height="48" as="geometry" />
        </mxCell>

        <mxCell id="opensky-auth" value="&lt;b&gt;OpenSky Auth&lt;/b&gt;&lt;br&gt;&lt;font style=&quot;font-size:10px&quot;&gt;OAuth2 Token&lt;br&gt;(Keycloak)&lt;/font&gt;" style="shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.identity_and_access_management;labelBackgroundColor=none;sketch=0;fontColor=#232F3E;fillColor=#DD3522;strokeColor=none;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=11;aspect=fixed;" vertex="1" parent="external-box">
          <mxGeometry x="120" y="50" width="48" height="48" as="geometry" />
        </mxCell>

        <mxCell id="opensky-api" value="&lt;b&gt;OpenSky API&lt;/b&gt;&lt;br&gt;&lt;font style=&quot;font-size:10px&quot;&gt;/api/states/all&lt;br&gt;Live ADS-B Data&lt;/font&gt;" style="shape=mxgraph.aws4.resourceIcon;resIcon=mxgraph.aws4.api_gateway;labelBackgroundColor=none;sketch=0;fontColor=#232F3E;fillColor=#FF9900;strokeColor=none;verticalLabelPosition=bottom;verticalAlign=top;align=center;html=1;fontSize=11;aspect=fixed;" vertex="1" parent="external-box">
          <mxGeometry x="70" y="145" width="48" height="48" as="geometry" />
        </mxCell>

        <!-- Browser → External APIs -->
        <mxCell id="edge-user-cesium" value="&lt;font style=&quot;font-size:9px;color:#4285F4&quot;&gt;HTTPS&lt;/font&gt;" style="edgeStyle=orthogonalEdgeStyle;rounded=1;strokeColor=#4285F4;strokeWidth=1;dashed=1;exitX=0;exitY=0.5;exitDx=0;exitDy=0;" edge="1" source="user" target="external-box" parent="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>

        <!-- ═══════════════ PROTOCOL LABELS ═══════════════ -->
        <mxCell id="label-ssh" value="&lt;font style=&quot;font-size:10px;color:#248814&quot;&gt;SSH :22&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="610" y="370" width="60" height="20" as="geometry" />
        </mxCell>

        <mxCell id="label-http" value="&lt;font style=&quot;font-size:10px;color:#ED7100&quot;&gt;HTTP :80&lt;/font&gt;" style="text;html=1;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" vertex="1" parent="1">
          <mxGeometry x="500" y="370" width="60" height="20" as="geometry" />
        </mxCell>

        <!-- ═══════════════ DATA FLOW NOTE ═══════════════ -->
        <mxCell id="flow-note" value="&lt;font style=&quot;font-size:10px&quot;&gt;&lt;b&gt;Data Flow:&lt;/b&gt;&lt;br&gt;1. Browser loads index.html from EC2 (HTTP)&lt;br&gt;2. Browser requests OAuth2 token from OpenSky Auth&lt;br&gt;3. Browser fetches /api/states/all with Bearer token&lt;br&gt;4. Browser loads 3D tiles from Cesium Ion&lt;br&gt;5. Flights render on CesiumJS globe&lt;/font&gt;" style="shape=note;whiteSpace=wrap;html=1;size=14;verticalAlign=top;align=left;spacingLeft=10;spacingTop=5;fillColor=#FFF8E1;strokeColor=#FFD000;fontColor=#333;fontSize=10;rounded=1;" vertex="1" parent="1">
          <mxGeometry x="790" y="80" width="260" height="130" as="geometry" />
        </mxCell>

        <!-- ═══════════════ LEGEND ═══════════════ -->
        <mxCell id="legend" value="&lt;font style=&quot;font-size:10px&quot;&gt;&lt;b&gt;CloudFormation Stack:&lt;/b&gt; Airplan-vpc-stack&lt;br&gt;&lt;b&gt;Template:&lt;/b&gt; airplance-tracking-vpc-architecture.yaml&lt;br&gt;&lt;b&gt;App:&lt;/b&gt; SkyTracker (CesiumJS + OpenSky OAuth2)&lt;/font&gt;" style="text;html=1;align=left;verticalAlign=top;whiteSpace=wrap;rounded=1;fillColor=#F0F0F0;strokeColor=#CCCCCC;fontColor=#333;spacingLeft=8;spacingTop=5;" vertex="1" parent="1">
          <mxGeometry x="790" y="230" width="280" height="70" as="geometry" />
        </mxCell>

      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
